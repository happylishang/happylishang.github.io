# 背景、能力、难点、实践、收益、展望


### 背景：APP端上安全在谈什么

APP的每个业务场景都有其既定的运行模式，若被人为破坏就可认为它是不安全的。举两个栗子，比如秒杀场景：大量用户在特定时间点，通过点击抢购按钮来秒杀优惠商品，从而营造一种紧迫而有噱头的营销场景，但如果能通过非法手段自动点击抢购、甚至提前开始刷接口抢购，那就彻底破坏了业务的玩法，这就是一种不安全的运行模式。再比如常用的用户拉新场景：新客获取成本高达200左右，所有产品的拉新投入都蛮高，如何获得真正的新用户而不是羊毛党也是拉新必须处理的事，新设备+新账户是新用户的基本条件，由于新账户的成本不高，最终大部分要靠新设备来识别，但如果能通过非法手段不断模拟新设备，那拉新投入带来的新用户可能大部分都是定向攻击的羊毛党，这也可看做是一种不安全的运行场景，甚至还有二次篡改，构建马甲APP等各种场景。而，APP端上安全要做的就是甄别并防范这种异常的发生，简而言之它就是：一种确保**官方APP**在**既定业务模型**中运行的能力。

### APP端上安全体系应该具备哪些能力


一个安全体系要具备哪些能力呢，简单说可分两块：**甄别与防御**。即：具备甄别运行环境是否安全的能力，二：针对不同的风险场景作出不同的防御的能力，场景千变万化，所以防御手段也没有一剑破万法的能力，基本都要根据具体的风险场景，产出不同的应对方案，但是整体的流程基本一致，如下：

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2117dc50f5f844cfae3662459ee8560c~tplv-k3u1fbpfcp-watermark.image?)

要做的事情就是围绕四个阶段构建不同的能力。先看第一阶段：风险场景的假设，预判有哪些风险场景，




先看第一个风险场景的假设，对于普通用户而言，从AppStore或者官方应用市场下载，安装、正常使用，这是理想中的运行模式，但对于不安分的用户并不适用，面临的问题也各式各样，比如破解APP包，而后二次封装，进行使用，这对于一些付费购买的工具类APP是一种毁灭性的打击；对于设备的甄别，


## 大家都是怎么做


* 甄别
* 捕获
* 防御：主动与被动

Android生态 电商类的业务通常会有各种的权益、优惠为了获取

所有权益及资产类的业务都避免不了与后端的交互，




####  工程安全：人员管理+代码管理
#### proguard入手，这是最简单的加密，成本最低，而且可以比较有效的扼杀一些在破解边缘徘徊的初级破解者，让他们能够悬崖勒马，浪子回头，然而，对于真正想要破解的人来说，混淆只等于加大了一点阅读难度而已， 相信做开发的同学基本上也都反编译过别人家的App，通过像jadx、apktool、dex2jar这样的反编译工具  到对于主流的加固技术，相应的破解技术也是非常成熟的，所以说，虽然技术很牛逼，但只要破解者知道了你加固的方式，就可以轻而易举的找到破解的方法，也就是比proguard多了一次Google的过程。
####  运行时安全
####  反向侦测：
####  防刷  
####  真机识别：
####  设备指纹
####  运行环境
####  核心信息加密
####  代码隔离
####  用户行为 埋点+人机系别
#### 核心算法逻辑的安全

# AndroidKeyStore


# 量子加密、白盒加密、人工智能分析，这些基本都是下一代的安全策略，就当前来说，还比较虚幻，不过只要技术一旦成熟，一定将是划时代的里程碑。

 
 