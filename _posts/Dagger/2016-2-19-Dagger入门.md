---
layout: default
title: Dagger入门
categories: [android,Dagger]

---
 
#   什么是依赖注入呢？

直接采用@声明的方式，而不是new，依赖注入干嘛的，省却new的，就是为了不用new 用的，但是使用场景受限，

通过构造器或者其他方法传入依赖的对象就是依赖注入，这样就不需要在一个模块中去创建另外一个模块了。对象是在别的地方被创建然后通过构造器传入依赖它的对象中

# 什么是依赖注入器？

你可以把他想象成一个这样的模块，它负责构造所有其他模块的实例，并且传入这些模块的依赖。现在我们的应用程序中只有一个入口来负责创建所有模块的实例，而这个入口完全在我们的控制下。

# 什么是Dagger

Dagger是 一个完全为低端设备设计的依赖注入器。绝大多数的依赖注入器都是基于反射来实现的。反射的确很酷，但是在低端设备上执行反射的效率太低。Dagger使用 的是预编译技术来创建所有依赖的类。这样就避免了使用反射。Dagger虽然没有其他的依赖注入框架强大，但它是效率最高的。

# 为什么有些Module必须通过参数实例化如Activity-- 不能依赖就要provide

> activity.MainActivity cannot be provided without an @Inject constructor or from an @Provides-annotated method.
 
因为Activity正常情况下不会编写构造函数，因而也就无法通过@Inject构造函数实例化，只能通过@Provides提供，所以，component在依赖Module里面必须相应的提供，创建Module的时候，也必须把Activity引用传递过去。因为依赖是层层递归的，因此必要要将需要的依赖模块实例化。

#约束不严谨


	public interface AppComponent {
	
	
	    Application getApplication();
	
	    ApiService getApiService();
	
	    User getUser();
	    }
  
  根据返回值，方法名随便写

#### 参考文档

[使用Android依赖注入工具Dagger（一）](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0510/2855.html)
[Android：dagger2让你爱不释手-基础依赖注入框架篇](http://www.jianshu.com/p/cd2c1c9f68d4?utm_campaign=maleskine&utm_content=note&utm_medium=reader_share&utm_source=weixin&from=groupmessage&isappinstalled=0)
[Android：dagger2让你爱不释手](http://www.jianshu.com/p/cd2c1c9f68d4)     
[Android：dagger2让你爱不释手](http://www.jianshu.com/p/1d42d2e6f4a5)     
[Android：dagger2让你爱不释手](http://www.jianshu.com/p/65737ac39c44)     
